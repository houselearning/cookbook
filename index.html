<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HouseLearning Cookbook</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Firebase SDKs (compat for simplicity) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- jsPDF for PDF export -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <link rel="stylesheet" href="cookbook.css">
</head>
<body>
  <header class="hl-header">
    <div class="hl-header-left">
      <h1>HouseLearning Cookbook</h1>
      <span class="hl-subtitle">All recipes are AI generated</span>
    </div>
    <div class="hl-header-right">
      <div id="user-info"></div>
      <button id="logout-btn" class="hl-button secondary">Logout</button>
    </div>
  </header>

  <main id="cookbook-main" class="hl-main">
    <nav class="hl-tabs">
      <button class="hl-tab active" data-tab="daily">Daily Recipes</button>
      <button class="hl-tab" data-tab="my">My Recipes</button>
      <button class="hl-tab" data-tab="assigned" id="assigned-tab">Assigned Recipes</button>
    </nav>

    <section class="hl-layout">
      <aside class="hl-sidebar">
        <h2 id="list-title">Daily Recipes</h2>
        <ul id="recipe-list" class="recipe-list"></ul>
      </aside>

      <section class="hl-recipe-view">
        <div id="recipe-meta" class="recipe-meta">
          <h2 id="recipe-title">Select a recipe</h2>
          <p id="recipe-info"></p>
        </div>

        <article id="recipe-content" class="recipe-content">
          <!-- Recipe HTML content injected here -->
        </article>

        <div class="recipe-actions">
          <button id="print-btn" class="hl-button">Print</button>
          <button id="like-btn" class="hl-button secondary">Like</button>
          <button id="favorite-btn" class="hl-button secondary">Favorite</button>
          <button id="rate-btn" class="hl-button secondary">Rate</button>
          <button id="report-btn" class="hl-button danger">Report</button>
        </div>

        <footer class="recipe-footer">
          <span>Sources: HouseLearning AI Cookbook Engine</span>
        </footer>
      </section>
    </section>
  </main>

  <!-- Rating modal -->
  <div id="rating-modal" class="hl-modal hidden">
    <div class="hl-modal-content">
      <h3>Rate this recipe</h3>
      <div id="star-container" class="star-container">
        <span data-value="1" class="star">★</span>
        <span data-value="2" class="star">★</span>
        <span data-value="3" class="star">★</span>
        <span data-value="4" class="star">★</span>
        <span data-value="5" class="star">★</span>
      </div>
      <textarea id="rating-comment" placeholder="Optional comment..."></textarea>
      <div class="modal-actions">
        <button id="rating-submit" class="hl-button">Submit</button>
        <button id="rating-cancel" class="hl-button secondary">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Report modal -->
  <div id="report-modal" class="hl-modal hidden">
    <div class="hl-modal-content">
      <h3>Report this recipe</h3>
      <textarea id="report-text" placeholder="Explain the issue with this recipe..."></textarea>
      <p class="modal-note">
        False reports may result in warnings or bans. House Learning Community Team will review in 2–3 days.
      </p>
      <div class="modal-actions">
        <button id="report-submit" class="hl-button danger">Submit Report</button>
        <button id="report-cancel" class="hl-button secondary">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Blocked / banned overlay -->
  <div id="blocked-overlay" class="hl-overlay hidden">
    <div class="hl-overlay-content">
      <h2>Cookbook Unavailable</h2>
      <p id="blocked-message">You do not have access to the Cookbook at this time.</p>
    </div>
  </div>

  <script src="cookbook-config.js"></script>
  <script src="cookbook.js"></script>
</body>
</html>
